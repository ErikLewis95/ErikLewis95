/*! For license information please see base-fca5b3b34cdbb2da4e0e.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[33,58],{18:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return p}));var i=["modalContent","contentSelector","onOpen","document"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,c=[],u=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=r.call(n)).done)&&(c.push(i.value),c.length!==t);u=!0);}catch(d){s=!0,o=d}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t,n,i,o,r,a){try{var c=e[r](a),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(i,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){u(r,i,o,a,c,"next",e)}function c(e){u(r,i,o,a,c,"throw",e)}a(void 0)}))}}var d,l,m="window-modal",f=function(){return d||(d=n.e(3).then(n.bind(null,0))),d},v=function(){var e=s((function*(e){var t,a=e.modalContent,u=e.contentSelector,s=e.onOpen,d=e.document,v=void 0===d?window.document:d,p=c(e,i),y=r(yield(l||(l=[Promise.all([n.e(0),n.e(1),n.e(2),n.e(4)]).then(n.bind(null,23)),f()]),Promise.all(l)),2),g=y[0].Modal,h=y[1],w=h.render,b=h.h,k=v.getElementById(m);k?w(null,k):((k=v.createElement("div")).setAttribute("id",m),v.body.appendChild(k)),w(b(g,o({onClose:function(){w(null,k)},focusTrapSelector:"#".concat(m),document:v},p),b("div",{className:"h-100 w-100",dangerouslySetInnerHTML:{__html:null!==a&&void 0!==a?a:null===(t=v.querySelector(u))||void 0===t?void 0:t.innerHTML}})),k),null===s||void 0===s||s()}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=s((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document,t=e.getElementById(m);if(t){var n=yield f(),i=n.render;i(null,t)}}));return function(){return e.apply(this,arguments)}}()},199:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=function(e,t,n,i){var o="",r="";if(n){var a=new Date;a.setTime(a.getTime()+60*n*1e3),o="; expires="+a.toGMTString()}i&&(r="; domain="+i),document.cookie=e+"="+escape(t)+o+r+"; path=/; samesite=lax"},o=function(e){var t,n,i=e+"=",o=document.cookie.split(";");for(t=0;t<o.length;t++){for(n=o[t];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(i))return unescape(n.substring(i.length,n.length))}return null},r={urlPrefix:"",visitsUrl:"/ahoy/visits",eventsUrl:"/ahoy/events",page:null,platform:"Web",useBeacon:!0,startOnReady:!0,trackVisits:!0,cookies:!0,cookieDomain:null,headers:{},visitParams:{},withCredentials:!1,visitDuration:240,visitorDuration:1051200},a=window.ahoy||window.Ahoy||{};a.configure=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])},a.configure(a);var c,u,s,d,l=window.jQuery||window.Zepto||window.$,m=!1,f=[],v="undefined"!==typeof JSON&&"undefined"!==typeof JSON.stringify,p=[];function y(){return r.urlPrefix+r.eventsUrl}function g(){return(r.useBeacon||r.trackNow)&&(e=r.headers,0===Object.keys(e).length)&&v&&"undefined"!==typeof window.navigator.sendBeacon&&!r.withCredentials;var e}function h(e,t,n){i(e,t,n,r.cookieDomain||r.domain)}function w(e){return o(e)}function b(e){i(e,"",-1)}function k(e){w("ahoy_debug")&&window.console.log(e)}function E(){for(var e;e=f.shift();)e();m=!0}function L(e,t){var n=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return n?n.apply(e,[t])?e:e.parentElement?L(e.parentElement,t):null:(k("Unable to match"),null)}function T(e,t,n){document.addEventListener(e,(function(e){var i=L(e.target,t);if(i){var o=F(i,"data-ahoy-skip");if(null!==o&&"false"!==o)return;n.call(i,e)}}))}function O(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function M(){r.cookies&&v&&h("ahoy_events",JSON.stringify(p),1)}function S(){var e=document.querySelector("meta[name=csrf-token]");return e&&e.content}function x(e){var t=S();t&&e.setRequestHeader("X-CSRF-Token",t)}function A(e,t,n){if(v)if(l&&l.ajax)l.ajax({type:"POST",url:e,data:JSON.stringify(t),contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:x,success:n,headers:r.headers,xhrFields:{withCredentials:r.withCredentials}});else{var i=new XMLHttpRequest;for(var o in i.open("POST",e,!0),i.withCredentials=r.withCredentials,i.setRequestHeader("Content-Type","application/json"),r.headers)Object.prototype.hasOwnProperty.call(r.headers,o)&&i.setRequestHeader(o,r.headers[o]);i.onload=function(){200===i.status&&n()},x(i),i.send(JSON.stringify(t))}}function I(e){var t={events:[e]};return r.cookies&&(t.visit_token=e.visit_token,t.visitor_token=e.visitor_token),delete e.visit_token,delete e.visitor_token,t}function _(e){a.ready((function(){A(y(),I(e),(function(){for(var t=0;t<p.length;t++)if(p[t].id===e.id){p.splice(t,1);break}M()}))}))}function j(e){a.ready((function(){var t,n=I(e),i=(t=document.querySelector("meta[name=csrf-param]"))&&t.content,o=S();i&&o&&(n[i]=o),n.events_json=JSON.stringify(n.events),delete n.events,window.navigator.sendBeacon(y(),function(e){var t=new FormData;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.append(n,e[n]);return t}(n))}))}function C(){return r.page||window.location.pathname}function N(e){return e&&e.length>0?e:null}function P(){return function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&null===e[t]&&delete e[t];return e}({tag:this.tagName.toLowerCase(),id:N(this.id),class:N(this.className),page:C(),section:F(this,"data-section")})}function F(e,t){for(;e&&e!==document;e=e.parentNode)if(e.hasAttribute(t))return e.getAttribute(t);return null}function R(){if(m=!1,c=a.getVisitId(),u=a.getVisitorId(),s=w("ahoy_track"),!1===r.cookies||!1===r.trackVisits)k("Visit tracking disabled"),E();else if(c&&u&&!s)k("Active visit"),E();else if(c||h("ahoy_visit",c=O(),r.visitDuration),w("ahoy_visit")){k("Visit started"),u||h("ahoy_visitor",u=O(),r.visitorDuration);var e={visit_token:c,visitor_token:u,platform:r.platform,landing_page:window.location.href,screen_width:window.screen.width,screen_height:window.screen.height,js:!0};for(var t in document.referrer.length>0&&(e.referrer=document.referrer),r.visitParams)Object.prototype.hasOwnProperty.call(r.visitParams,t)&&(e[t]=r.visitParams[t]);k(e),A(r.urlPrefix+r.visitsUrl,e,(function(){b("ahoy_track"),E()}))}else k("Cookies disabled"),E()}a.ready=function(e){m?e():f.push(e)},a.getVisitId=a.getVisitToken=function(){return w("ahoy_visit")},a.getVisitorId=a.getVisitorToken=function(){return w("ahoy_visitor")},a.reset=function(){return b("ahoy_visit"),b("ahoy_visitor"),b("ahoy_events"),b("ahoy_track"),!0},a.debug=function(e){return!1===e?b("ahoy_debug"):h("ahoy_debug","t",525600),!0},a.track=function(e,t){var n={name:e,properties:t||{},time:(new Date).getTime()/1e3,id:O(),js:!0};return a.ready((function(){r.cookies&&!a.getVisitId()&&R(),a.ready((function(){k(n),n.visit_token=a.getVisitId(),n.visitor_token=a.getVisitorId(),g()?j(n):(p.push(n),M(),setTimeout((function(){_(n)}),1e3))}))})),!0},a.trackView=function(e){var t={url:window.location.href,title:document.title,page:C()};if(e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);a.track("$view",t)},a.trackClicks=function(e){if(void 0===e)throw new Error("Missing selector");T("click",e,(function(e){var t=P.call(this,e);t.text="input"===t.tag?this.value:(this.textContent||this.innerText||this.innerHTML).replace(/[\s\r\n]+/g," ").trim(),t.href=this.href,a.track("$click",t)}))},a.trackSubmits=function(e){if(void 0===e)throw new Error("Missing selector");T("submit",e,(function(e){var t=P.call(this,e);a.track("$submit",t)}))},a.trackChanges=function(e){if(k("trackChanges is deprecated and will be removed in 0.5.0"),void 0===e)throw new Error("Missing selector");T("change",e,(function(e){var t=P.call(this,e);a.track("$change",t)}))};try{p=JSON.parse(w("ahoy_events")||"[]")}catch(H){}for(var B=0;B<p.length;B++)_(p[B]);a.start=function(){R(),a.start=function(){}},d=function(){r.startOnReady&&a.start()},"interactive"===document.readyState||"complete"===document.readyState?setTimeout(d,0):document.addEventListener("DOMContentLoaded",d)},267:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n(199);function o(e){var t;null===(t=document.getElementById(e))||void 0===t||t.addEventListener("click",(function(e){var t,n=a(e.target,"[data-tracking-name]");n&&i.a.track("Comment section click",{page:location.href,element:null===(t=n.dataset)||void 0===t?void 0:t.trackingName})}))}function r(e){var t;null===(t=document.getElementById(e))||void 0===t||t.addEventListener("click",(function(e){var t,n=a(e.target,"[data-tracking-id]");n&&i.a.track("Clicked on Create Account",{version:.1,page:location.href,source:null===(t=n.dataset)||void 0===t?void 0:t.trackingSource})}))}function a(e,t){return e.closest(t)}},394:function(e,t,n){"use strict";function i(e,t){var n=document.getElementById(e);n&&n.addEventListener("change",(function(e){var n=e.target.value;t&&(n=t+n),InstantClick.preload(n),InstantClick.display(n)}))}function o(){i("dashboard_sort","/dashboard?sort="),i("dashboard_author"),i("mobile_nav_dashboard")}n.r(t),n.d(t,"selectNavigation",(function(){return i})),n.d(t,"initializeDashboardSort",(function(){return o}))},406:function(e,t,n){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,c=[],u=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=r.call(n)).done)&&(c.push(i.value),c.length!==t);u=!0);}catch(d){s=!0,o=d}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t,n,i,o,r,a){try{var c=e[r](a),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(i,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function c(e){r(a,i,o,c,u,"next",e)}function u(e){r(a,i,o,c,u,"throw",e)}c(void 0)}))}}function c(e,t){t.setAttribute("aria-expanded","false"),e.classList.remove("desktop","showing"),delete e.dataset.clicked}n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return v}));var u=document.getElementById("first-nav-link");function s(e,t){"DEV-Native-ios"===navigator.userAgent&&document.body.classList.add("dev-ios-native-body");var n=e.classList;t.addEventListener("click",(function(i){n.contains("showing")&&e.dataset.clicked?(c(e,t),t.focus()):(!function(e,t){t.setAttribute("aria-expanded","true"),e.classList.add("showing"),u&&function e(){document.activeElement!==u&&(u.focus(),window.requestAnimationFrame(e))}()}(e,t),e.dataset.clicked="clicked")})),isTouchDevice()?e.addEventListener("focus",(function(e){t.setAttribute("aria-expanded","true")})):e.addEventListener("keyup",(function(i){"Escape"===i.key&&n.contains("showing")&&(c(e,t),t.focus())})),e.querySelector(".crayons-header__menu__dropdown").addEventListener("click",(function(n){n.stopPropagation(),c(e,t),t.focus()})),document.addEventListener("click",(function(n){n.target.closest("#member-menu-button")!==t&&c(e,t)}));var i=document.getElementById("second-last-nav-link");document.getElementById("last-nav-link").addEventListener("blur",(function(n){setTimeout((function(){document.activeElement!==i&&c(e,t)}),10)}))}function d(){var e=document.body.dataset.leftNavState,t=void 0===e?"closed":e;document.body.dataset.leftNavState="open"===t?"closed":"open"}function l(){return m.apply(this,arguments)}function m(){return m=a((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;return new Promise((function(t,n){var i=setTimeout((function(){clearInterval(o),n(new Error("Unable to resolve InstantClick"))}),e),o=setInterval((function(){"undefined"!==typeof InstantClick&&(clearTimeout(i),clearInterval(o),t(InstantClick))}))}))})),m.apply(this,arguments)}function f(e){e.forEach((function(e){e.onclick=d}))}function v(e,t){t.filter((function(e){return i(e,2)[1]})).forEach((function(t){var n=i(t,2),o=n[0],r=n[1];e===o?(r.blur(),r.setAttribute("aria-current","page")):r.removeAttribute("aria-current")}))}},427:function(e,t,n){"use strict";function i(){return new Promise((function(e){var t=setInterval((function(){"true"===document.body.getAttribute("data-loaded")&&(clearInterval(t),e())}),100)}))}n.d(t,"a",(function(){return i}))},447:function(e,t,n){!function(){"use strict";function e(e){var t=!0,n=!1,i=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function r(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function a(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!o[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}function c(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function u(e){e.hasAttribute("data-focus-visible-added")&&(e.classList.remove("focus-visible"),e.removeAttribute("data-focus-visible-added"))}function s(n){n.metaKey||n.altKey||n.ctrlKey||(r(e.activeElement)&&c(e.activeElement),t=!0)}function d(e){t=!1}function l(e){r(e.target)&&(t||a(e.target))&&c(e.target)}function m(e){r(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(i),i=window.setTimeout((function(){n=!1}),100),u(e.target))}function f(e){"hidden"===document.visibilityState&&(n&&(t=!0),v())}function v(){document.addEventListener("mousemove",y),document.addEventListener("mousedown",y),document.addEventListener("mouseup",y),document.addEventListener("pointermove",y),document.addEventListener("pointerdown",y),document.addEventListener("pointerup",y),document.addEventListener("touchmove",y),document.addEventListener("touchstart",y),document.addEventListener("touchend",y)}function p(){document.removeEventListener("mousemove",y),document.removeEventListener("mousedown",y),document.removeEventListener("mouseup",y),document.removeEventListener("pointermove",y),document.removeEventListener("pointerdown",y),document.removeEventListener("pointerup",y),document.removeEventListener("touchmove",y),document.removeEventListener("touchstart",y),document.removeEventListener("touchend",y)}function y(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,p())}document.addEventListener("keydown",s,!0),document.addEventListener("mousedown",d,!0),document.addEventListener("pointerdown",d,!0),document.addEventListener("touchstart",d,!0),document.addEventListener("visibilitychange",f,!0),v(),e.addEventListener("focus",l,!0),e.addEventListener("blur",m,!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!==typeof window&&"undefined"!==typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(n){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!==typeof document&&e(document)}()},729:function(e,t,n){"use strict";n.r(t);n(447);var i=n(406),o=n(427),r=n(199);function a(){var e,t,n,i="web";function o(e){return document.getElementById(e)}function a(e){return document.getElementsByClassName(e)}function c(){var e,t,n,i=o("audio");return window.activeEpisode=null===i||void 0===i||null===(e=i.dataset)||void 0===e?void 0:e.episode,window.activePodcast=null===i||void 0===i||null===(t=i.dataset)||void 0===t?void 0:t.podcast,{html:o("audiocontent").innerHTML,currentTime:0,playing:!1,muted:!1,volume:1,duration:1,updated:(new Date).getTime(),playbackName:null===i||void 0===i||null===(n=i.dataset)||void 0===n?void 0:n.episode}}function u(){try{var e=JSON.parse(localStorage.getItem("media_playback_state_v3"));return e||c()}catch(t){return c()}}function s(e){if(o("audio")&&u().playing&&o("record-".concat(window.activeEpisode))){var t=o("record-".concat(window.activeEpisode));t.classList.add("playing"),t.setAttribute("aria-pressed","true"),p(e)}else d()}function d(){if(window.activeEpisode&&o("record-".concat(window.activeEpisode))){var e=o("record-".concat(window.activeEpisode));e.classList.remove("playing"),e.setAttribute("aria-pressed","false"),window.activeEpisode=void 0}}function l(e){var t=e||u(),n=c();return n.currentTime=t.currentTime,n.playing=t.playing,n.muted=t.muted,n.volume=t.volume,n.duration=t.duration,localStorage.setItem("media_playback_state_v3",JSON.stringify(n)),n}function m(e){var t=u();o("barPlayPause").onclick=function(){k(e)},o("mutebutt").onclick=function(){E(e)},o("volbutt").onclick=function(){E(e)},o("bufferwrapper").onclick=function(t){!function(e,t){var n=u(),i=o("progress"),r=o("time");if(e.clientX>128){var a=(e.clientX-128)/(window.innerWidth-133);n.currentTime=n.duration*a,window.Forem.Runtime.podcastMessage?window.Forem.Runtime.podcastMessage({action:"seek",seconds:n.currentTime.toString()}):t.currentTime=n.currentTime;var c=T(n.currentTime),s=T(n.duration);r.innerHTML="".concat(c," / ").concat(s),i.style.width="".concat(100*a,"%")}}(t,e)},o("volumeslider").value=100*t.volume,o("volumeslider").onchange=function(t){!function(e,t){var n=u();n.volume=e.target.value/100,window.Forem.Runtime.podcastMessage?window.Forem.Runtime.podcastMessage({action:"volume",volume:n.volume}):t.volume=n.volume;l(n)}(t,e)},o("speed").onclick=function(){!function(e){var t=u(),n=o("speed"),i=parseFloat(n.getAttribute("data-speed"));2===i?(n.setAttribute("data-speed",.5),n.innerHTML="0.5x",t.playbackRate=.5):(n.setAttribute("data-speed",i+.5),n.innerHTML="".concat(i+.5,"x"),t.playbackRate=i+.5);l(t),window.Forem.Runtime.podcastMessage?window.Forem.Runtime.podcastMessage({action:"rate",rate:t.playbackRate.toString()}):e.playbackRate=t.playbackRate}(e)},o("closebutt").onclick=function(){!function(e){e.removeEventListener("timeupdate",f(e),!1),o("audiocontent").innerHTML="",d(),l(c()),window.Forem.Runtime.podcastMessage&&window.Forem.Runtime.podcastMessage({action:"terminate"})}(e)}}function f(e){return function(){var t=0;e.currentTime>0&&(t=e.buffered.end(e.buffered.length-1)/e.duration*100);L(e.currentTime,e.duration,t)}}function v(e){window.Forem.Runtime.podcastMessage?window.Forem.Runtime.podcastMessage({action:"load",url:e.getElementsByTagName("source")[0].src}):e.load()}function p(e){var t=u(),n=o("status-message-".concat(t.playbackName));n?e?(n.classList.add("showing"),n.innerHTML=e):n.classList.remove("showing"):"initializing..."===e&&a("status-message")[0]&&(a("status-message")[0].innerHTML=e)}function y(){o("barPlayPause").classList.add("playing"),o("progressBar").classList.add("playing"),o("animated-bars").classList.add("playing")}function g(){o("barPlayPause").classList.remove("playing"),o("animated-bars").classList.remove("playing")}function h(e){return new Promise((function(t,n){var i=u();window.Forem.Runtime.podcastMessage?(window.Forem.Runtime.podcastMessage({action:"play",url:e.getElementsByTagName("source")[0].src,seconds:i.currentTime.toString()}),M(!0),t()):(e.currentTime=i.currentTime,e.play().then((function(){M(!0),t()})).catch((function(){M(!1),n()})))}))}function w(){if(window.Forem.Runtime.podcastMessage)try{var e=JSON.parse((void 0===(t=a("podcast-episode-container")[0])&&(t=a("podcastliquidtag")[0]),t.dataset.meta));window.Forem.Runtime.podcastMessage({action:"metadata",episodeName:e.episodeName,podcastName:e.podcastName,podcastImageUrl:e.podcastImageUrl})}catch(n){console.log("Unable to load Podcast Episode metadata",n)}var t}function b(e){var t={action:e,episode:window.activeEpisode,podcast:window.activePodcast,deviceType:i};r.a.track("Podcast Player Streaming",t)}function k(e){var t=u();t.playbackName!=o("audio").dataset.episode&&l(t=c()),t.playing?(b("pause"),function(e){window.Forem.Runtime.podcastMessage?window.Forem.Runtime.podcastMessage({action:"pause"}):e.pause(),M(!1),d(),g()}(e),p(null)):(b("play"),p(null),function(e){w(),h(e).then((function(){s(),y()})).catch((function(){h(e),setTimeout((function(){s("initializing..."),y()}),5)}))}(e)),s()}function E(e){var t=u();o("mutebutt").classList.add(t.muted?"hidden":"showing"),o("volumeindicator").classList.add(t.muted?"showing":"hidden"),o("mutebutt").classList.remove(t.muted?"showing":"hidden"),o("volumeindicator").classList.remove(t.muted?"hidden":"showing"),t.muted=!t.muted,window.Forem.Runtime.podcastMessage?window.Forem.Runtime.podcastMessage({action:"muted",muted:t.muted.toString()}):e.muted=t.muted,l(t)}function L(e,t,n){var i=o("progress"),r=o("buffer"),a=o("time"),c=0,s=e-Math.floor(e);if(e>0&&(c=Math.floor(100/t*e),s<.4)){var d=u();d.duration=t,d.currentTime=e,l(d)}i&&a&&e>0&&(i.style.width="".concat(c,"%"),r.style.width="".concat(n,"%"),a.innerHTML="".concat(T(e)," / ").concat(T(t)))}function T(e){var t=Math.floor(e),n=Math.floor(t/60);return n=n>=10?n:"0".concat(n),t=(t=Math.floor(t%60))>=10?t:"0".concat(t),"".concat(n,":").concat(t)}function O(e){var t=JSON.parse(e.detail);if("podcast"===t.namespace){var n=u();switch(t.action){case"init":o("time").innerHTML="initializing...",n.currentTime=0;break;case"play":b("play"),s(),y();break;case"pause":b("pause"),M(!1),d(),g();break;case"tick":n.currentTime=t.currentTime,n.duration=t.duration,L(n.currentTime,n.duration,100);break;default:console.log("Unrecognized message: ",t)}l(n)}}function M(e){var t=u();t.playing=e,l(t)}window.Forem.Runtime.isNativeIOS("podcast")?i="iOS":window.Forem.Runtime.isNativeAndroid("podcastMessage")&&(i="Android"),"web"!==i&&(window.Forem.Runtime.podcastMessage=function(e){window.ForemMobile.injectNativeMessage("podcast",e)}),s(),e=a("record-wrapper"),t=a("podcastliquidtag__record"),n=e.length>0?e:t,Array.prototype.forEach.call(n,(function(e){var t=e.getAttribute("data-episode");e.addEventListener("click",(function(){if(function(e){return-1!==o("audiocontent").innerHTML.indexOf("".concat(e))}(t)){var e=o("audio");e&&k(e)}else d(),function(e){o("audiocontent").innerHTML=o("hidden-audio-".concat(e)).innerHTML;var t=o("audio");t.addEventListener("timeupdate",f(t),!1),v(t),k(t),m(t)}(t)}))})),window.Forem.audioInitialized||(window.Forem.audioInitialized=!0,function(){var e=u();document.getElementById("audiocontent").innerHTML=e.html;var t=o("audio");void 0!==t&&null!==t?(window.Forem.Runtime.podcastMessage&&(t.currentTime=e.currentTime||0),v(t),e.playing&&h(t).catch((function(){g()})),setTimeout((function(){t.addEventListener("timeupdate",f(t),!1),document.addEventListener("ForemMobile",O)}),500),m(t)):window.Forem.audioInitialized=!1}());var S=o("audio"),x=o("audiocontent");S&&x&&x.innerHTML.length<25&&v(S)}function c(){var e="0",t="web",n="";function i(e){return document.getElementById(e)}function o(e){var o=e?"play":"pause";if(n!==o){n=o;var c={article:a(i("video-player-source")).id,deviceType:t,action:o};r.a.track("Video Player Streaming",c)}}function a(e){try{return JSON.parse(e.dataset.meta)}catch(t){console.log("Unable to load Podcast Episode metadata",t)}}function c(){var t=a(s);i("pause-butt").classList.add("active"),i("play-butt").classList.remove("active"),window.Forem.Runtime.videoMessage({action:"play",url:t.video_source_url,seconds:e}),o(!0)}function u(t){var n=JSON.parse(t.detail);if("video"===n.namespace)switch(n.action){case"play":i("pause-butt").classList.add("active"),i("play-butt").classList.remove("active"),o(!0);break;case"pause":i("pause-butt").classList.remove("active"),i("play-butt").classList.add("active"),o(!1);break;case"tick":e=n.currentTime;break;default:console.log("Unrecognized message: ",n)}}var s=i("video-player-source");null!==s&&function(n){var r,s,d=(r="0").length<3?r:r.length<6?60*+(s=r.split(":"))[0]+ +s[1]:60*+(s=r.split(":"))[0]*60+60*+s[1]+ +s[2],l=a(n);if(window.Forem.Runtime.isNativeIOS("video"))t="iOS";else{if(!window.Forem.Runtime.isNativeAndroid("videoMessage"))return void function(e,t){var n=setInterval((function(){"undefined"!==typeof jwplayer&&(clearInterval(n),jwplayer("video-player-".concat(t.id)).setup({file:t.video_source_url,mediaid:t.video_code,image:t.video_thumbnail_url,playbackRateControls:!0,tracks:[{file:t.video_closed_caption_track_url,label:"English",kind:"captions",default:!1}]}),e&&(jwplayer().on("firstFrame",(function(){jwplayer().seek(e)})),jwplayer().on("play",(function(){o(!0)})),jwplayer().on("pause",(function(){o(!1)}))))}),2)}(d,l);t="Android"}window.Forem.Runtime.videoMessage=function(e){window.ForemMobile.injectNativeMessage("video",e)};var m=i("video-player-".concat(l.id));m.addEventListener("click",c),m.classList.add("native"),i("play-butt").classList.add("active"),document.addEventListener("ForemMobile",u),e="".concat(d)}(s)}var u,s=n(394),d=n(267),l=n(18),m=n(8);function f(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,c=[],u=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=r.call(n)).done)&&(c.push(i.value),c.length!==t);u=!0);}catch(d){s=!0,o=d}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function g(e,t,n,i,o,r,a){try{var c=e[r](a),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(i,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){g(r,i,o,a,c,"next",e)}function c(e){g(r,i,o,a,c,"throw",e)}a(void 0)}))}}function w(){var e=document.getElementById("page-content").dataset.currentPage,t=f(document.querySelectorAll(".js-hamburger-trigger, .hamburger a"));Object(i.d)(e,Object.entries({"notifications-index":document.getElementById("notifications-link"),"moderations-index":document.getElementById("moderation-link"),"articles_search-index":document.getElementById("search-link")})),Object(i.c)(t)}Document.prototype.ready=new Promise((function(e){return"loading"!==document.readyState?e():(document.addEventListener("DOMContentLoaded",(function(){return e()})),null)})),window.Forem={audioInitialized:!1,preactImport:void 0,getPreactImport:function(){return this.preactImport||(this.preactImport=n.e(3).then(n.bind(null,0))),this.preactImport},enhancedCommentTextAreaImport:void 0,getEnhancedCommentTextAreaImports:function(){return this.enhancedCommentTextAreaImport||(this.enhancedCommentTextAreaImport=Promise.all([n.e(0),n.e(1),n.e(2),n.e(166)]).then(n.bind(null,542))),Promise.all([this.enhancedCommentTextAreaImport,this.getPreactImport()])},initializeEnhancedCommentTextArea:(u=h((function*(e){var t=e.parentElement;if(!t.classList.contains("c-autocomplete")){var n=v(yield window.Forem.getEnhancedCommentTextAreaImports(),2),i=n[0].CommentTextArea,o=n[1];(0,o.render)((0,o.h)(i,{vanillaTextArea:e}),t,e)}})),function(e){return u.apply(this,arguments)}),showModal:l.c,closeModal:function(){return Object(l.b)()},Runtime:m},Object(s.initializeDashboardSort)(),a(),c(),InstantClick.on("change",(function(){Object(s.initializeDashboardSort)(),a(),c()})),document.body.dataset.runtime=window.Forem.Runtime.currentContext();var b=document.getElementById("crayons-header__menu"),k=document.getElementById("member-menu-button");function E(){return L.apply(this,arguments)}function L(){return(L=h((function*(){var e=document.getElementsByClassName("js-navigation-links-container")[0];if(""===e.innerHTML.trim()){var t=yield window.fetch("/async_info/navigation_links"),n=yield t.text(),i=document.createElement("div");i.innerHTML=n,e.appendChild(i)}}))).apply(this,arguments)}function T(){return(T=h((function*(){try{var e=v(yield Promise.all([Promise.all([n.e(5),n.e(175)]).then(n.bind(null,540)),n.e(5).then(n.bind(null,182))]),2),t=e[0].LogoUploadController;e[1].Application.start().register("logo-upload",t)}catch(i){Honeybadger.notify("Error loading the creator settings controller: ".concat(i.message))}}))).apply(this,arguments)}b&&Object(i.b)(b,k),Object(o.a)().then((function(){InstantClick.on("change",(function(){w()})),"ForemWebView"===m.currentMedium()&&n.e(171).then(n.bind(null,745)).then((function(e){window.ForemMobile=e.foremMobileNamespace(),window.ForemMobile.userSessionBroadcast()}))})).catch((function(e){Honeybadger.notify(e)})),w(),"/admin/creator_settings/new"===document.location.pathname&&function(){T.apply(this,arguments)}(),document.ready.then((function(){document.getElementsByClassName("js-hamburger-trigger")[0].addEventListener("click",E)})),Object(d.b)("authentication-hamburger-actions"),Object(d.b)("authentication-top-nav-actions"),Object(d.b)("comments-locked-cta")},8:function(e,t,n){"use strict";n.r(t),n.d(t,"currentContext",(function(){return i})),n.d(t,"currentMedium",(function(){return o})),n.d(t,"currentOS",(function(){return r})),n.d(t,"isNativeIOS",(function(){return a})),n.d(t,"isNativeAndroid",(function(){return c})),n.d(t,"copyToClipboard",(function(){return u})),n.d(t,"hasOSSpecificModifier",(function(){return s})),n.d(t,"getOSKeyboardModifierKeyString",(function(){return d})),n.d(t,"getCurrentLocale",(function(){return l}));var i=function(){return"".concat(o(),"-").concat(r())},o=function(){return/ForemWebView/i.test(navigator.userAgent)?"ForemWebView":"Browser"},r=function(){return["Macintosh","MacIntel","MacPPC","Mac68K"].includes(window.navigator.platform)?"macOS":["iPhone","iPad","iPod"].includes(window.navigator.platform)?"iOS":["Win32","Win64","Windows","WinCE"].includes(window.navigator.platform)?"Windows":/Android/i.test(window.navigator.userAgent)?"Android":/Linux/i.test(window.navigator.platform)?"Linux":"Unsupported"},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=/DEV-Native-ios|ForemWebView/i.test(navigator.userAgent)&&window&&window.webkit&&window.webkit.messageHandlers,n=!0;return t&&e&&(n=void 0!=window.webkit.messageHandlers[e]),t&&n},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=/DEV-Native-android|ForemWebView/i.test(navigator.userAgent)&&"undefined"!==typeof AndroidBridge,n=!0;return t&&e&&(n=void 0!=AndroidBridge[e]),t&&n},u=function(e){return new Promise((function(t,n){c("copyToClipboard")?(AndroidBridge.copyToClipboard(e),t()):null!=navigator.clipboard?navigator.clipboard.writeText(e).then((function(){t()})).catch((function(e){n(e)})):n("Unable to copy the text. Try reloading the page")}))},s=function(e){return e instanceof KeyboardEvent&&(navigator.userAgent.indexOf("Mac OS X")>=0?e.metaKey:e.ctrlKey)},d=function(){return"macOS"===r()?"cmd":"ctrl"},l=function(){return navigator.language}}},[[729,99]]]);
//# sourceMappingURL=base-fca5b3b34cdbb2da4e0e.chunk.js.map