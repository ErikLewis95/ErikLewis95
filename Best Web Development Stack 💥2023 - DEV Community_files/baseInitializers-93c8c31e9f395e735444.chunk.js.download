(window.webpackJsonp=window.webpackJsonp||[]).push([[34,56,57,59,60,61],{220:function(e,t,n){"use strict";function i(e,t,n){if(!e)return"";try{var i=new Date(e),o=new Intl.DateTimeFormat(t||"default",n).format(i);return"2-digit"===n.year?o.replace(", "," '"):o}catch(a){return""}}function o(e,t){for(var n=0;n<e.length;n+=1){var i=e[n],o=i.getAttribute(t||"datetime");if(o){var a=r(o);i.setAttribute("title",a)}}}function a(e,t){for(var n=0;n<e.length;n+=1){var o=e[n],a=o.getAttribute("datetime");if(a){var r=i(a,navigator.language,t);o.textContent=r}}}function r(e){return i(e,navigator.language,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),"undefined"!==typeof globalThis&&(globalThis.timestampToLocalDateTimeLong=r,globalThis.timestampToLocalDateTimeShort=function(e){if(e){var t=(new Date).getFullYear(),n={day:"numeric",month:"short"};return new Date(e).getFullYear()!==t&&(n.year="numeric"),i(e,navigator.language,n)}return""})},263:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i="user-alert-modal";function o(e,t,n){!function(e,t){var n=document.getElementById(i);n?n.outerHTML=r(e,t).outerHTML:(n=r(e,t),document.body.appendChild(n))}(t,n),window.Forem.showModal({title:e,contentSelector:"#".concat(i),overlay:!0})}function a(e){var t=e.response,n=e.element,i=e.action_ing,a=e.action_past,r=e.timeframe,c=void 0===r?"a moment":r;t.json().then((function(e){429===t.status?function(e){var t=e.element,n=e.action_ing,i=e.action_past,a=e.timeframe,r=void 0===a?"a moment":a,c=function(e){var t=e.element,n=e.action_ing,i=e.action_past,o=e.timeframe;return"Since you recently ".concat(i," a ").concat(t,", you\u2019ll need to wait ").concat(o," before ").concat(n," another ").concat(t,".")}({element:t,action_ing:n,action_past:i,timeframe:r});o("Wait ".concat(r,"..."),c,"Got it")}({element:n,action_ing:i,action_past:a,timeframe:c}):o("Error ".concat(i," ").concat(n),"Your ".concat(n," could not be ").concat(a," due to an error: ").concat(e.error),"OK")})).catch((function(){o("Error ".concat(i," ").concat(n),"Your ".concat(n," could not be ").concat(a," due to a server error"),"OK")}))}function r(e,t){var n=document.createElement("div");return n.innerHTML=function(e,t){return'\n   <div id="'.concat(i,'" hidden>\n     <div class="flex flex-col">\n       <p class="color-base-70">\n         ').concat(e,'\n       </p>\n       <button class="crayons-btn mt-4 ml-auto" type="button" onClick="window.Forem.closeModal()">\n         ').concat(t,"\n       </button>\n     </div>\n   </div>\n ")}(e,t),n}},428:function(e,t,n){"use strict";n.r(t),n.d(t,"initializeCommentDate",(function(){return o}));var i=n(220);function o(){var e=document.querySelectorAll(".comment-date time");e&&Object(i.a)(e,"datetime")}},429:function(e,t,n){"use strict";function i(e,t){var n=JSON.stringify({comment:{body_markdown:t.value}});getCsrfToken().then(sendFetch("comment-preview",n)).then((function(e){return e.json()})).then((function(t){var n;e.innerHTML=t.processed_html,t.processed_html.includes("twitter-timeline")&&((n=document.createElement("script")).src="https://platform.twitter.com/widgets.js",n.async=!0,document.body.appendChild(n)),activateRunkitTags()})).catch((function(e){console.log("error!"),console.log(e)}))}function o(e){e.preventDefault();var t=e.target.form,n=t.getElementsByClassName("comment-textarea")[0],o=t.getElementsByClassName("comment-form__preview")[0],a=t.getElementsByClassName("preview-toggle")[0];if(""!==n.value)if(t.classList.contains("preview-open"))t.classList.toggle("preview-open"),a.innerHTML="Preview";else{i(o,n);var r=n.offsetHeight+43;o.style.minHeight="".concat(r,"px"),a.innerHTML="Continue editing",t.classList.toggle("preview-open")}}function a(){var e=document.getElementsByClassName("preview-toggle")[0];e&&e.addEventListener("click",o)}n.r(t),n.d(t,"initializeCommentPreview",(function(){return a}))},431:function(e,t,n){"use strict";function i(e){try{window&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.haptic&&window.webkit.messageHandlers.haptic.postMessage(e)}catch(t){console.log(t.message)}}n.r(t),n.d(t,"initializeNotifications",(function(){return s}));var o=n(263);function a(){var e;null==document.getElementById("notifications-container")&&((e=document.body)&&"logged-in"===e.getAttribute("data-user-status"))&&instantClick&&(InstantClick.removeExpiredKeys("force"),setTimeout((function(){InstantClick.preload(document.getElementById("notifications-link").href,"force")}),30))}function r(){setTimeout((function(){if(document.getElementById("notifications-container")){for(var e=document.getElementsByClassName("reaction-button"),t=0;t<e.length;t++){var n=e[t];n.setAttribute("aria-pressed",n.classList.contains("reacted")),n.onclick=function(e){e.preventDefault(),i("medium");var t=this;function n(e){"create"===e.result?(t.classList.add("reacted"),t.setAttribute("aria-pressed",!0)):(t.classList.remove("reacted"),t.setAttribute("aria-pressed",!1))}t.classList.add("reacted");var a=new FormData;a.append("reactable_type",t.dataset.reactableType),a.append("category",t.dataset.category),a.append("reactable_id",t.dataset.reactableId),getCsrfToken().then(sendFetch("reaction-creation",a)).then((function(e){200===e.status?e.json().then(n):Object(o.a)({response:e,element:"reaction",action_ing:"updating",action_past:"updated"})}))}}e=document.getElementsByClassName("toggle-reply-form");for(var a=0;a<e.length;a++){e[a].onclick=function(e){e.preventDefault();var t=this;document.getElementById("comment-form-for-".concat(t.dataset.reactableId)).classList.remove("hidden"),t.classList.add("hidden"),t.classList.remove("inline-flex"),setTimeout((function(){document.getElementById("comment-textarea-for-".concat(t.dataset.reactableId)).focus()}),30)}}}}),180)}function c(){var e=document.getElementsByClassName("notifications-paginator");if(e&&e.length>0){var t=e[e.length-1];t&&window.fetch(t.dataset.paginationPath,{method:"GET",credentials:"same-origin"}).then((function(e){200===e.status&&e.text().then((function(e){var n=e.trim();if(n){var i=document.getElementById("articles-list"),o=document.createElement("div");o.innerHTML=n,t.remove(),i.append(o),r()}else{var a=document.getElementById("load-more-button");a&&(a.style.display="none"),t.remove()}}))}))}}function s(){var e,t,n;a(),setTimeout((function(){document.getElementById("notifications-container")&&getCsrfToken().then((function(e){var t=window.location.pathname.split("/"),n=parseInt(t[t.length-1].replace(/[^0-9]/g,""),10),i={method:"POST",headers:{"X-CSRF-Token":e}};Number.isInteger(n)?fetch("/notifications/reads?org_id=".concat(n),i):fetch("/notifications/reads",i)}))}),450),r(),(e=document.getElementById("notifications-link"))&&setTimeout((function(){e.onclick=function(){document.getElementById("notifications-number").classList.add("hidden")}}),180),(t=document.getElementById("notifications-filter__select"))&&t.addEventListener("change",(function(e){window.location.href=e.target.value})),c(),(n=document.getElementById("load-more-button"))&&n.addEventListener("click",c)}},440:function(e,t,n){"use strict";function i(e,t){return new Intl.DateTimeFormat("en-US",e).format(t)}function o(e){return i({hour:"numeric",minute:"numeric",timeZoneName:"short"},new Date(Number(e)))}function a(e){return i({month:"short",day:"numeric"},new Date(Number(e)))}function r(e){return i({weekday:"long",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},new Date(Number(e)))}function c(e,t,n){for(var i,o=0;o<e.length;o+=1)i=t(n(e[o])),e[o].innerHTML=i}function s(){var e=document.getElementsByClassName("utc-time"),t=document.getElementsByClassName("utc-date"),n=document.getElementsByClassName("utc");n&&(c(e,o,(function(e){return e.dataset.datetime})),c(t,a,(function(e){return e.dataset.datetime})),c(n,r,(function(e){return e.innerHTML})))}n.r(t),n.d(t,"initializeTimeFixer",(function(){return s})),n.d(t,"updateLocalDateTime",(function(){return c})),n.d(t,"convertUtcDate",(function(){return a})),n.d(t,"convertUtcTime",(function(){return o})),n.d(t,"formatDateTime",(function(){return i})),n.d(t,"convertCalEvent",(function(){return r}))},441:function(e,t,n){"use strict";n.r(t),n.d(t,"initializeDateHelpers",(function(){return o}));var i=n(220);function o(){Object(i.b)(document.querySelectorAll("time.date-no-year"),{month:"short",day:"numeric"}),Object(i.b)(document.querySelectorAll("time.date"),{year:"numeric",month:"short",day:"numeric"}),Object(i.b)(document.querySelectorAll("time.date-short-year"),{year:"2-digit",month:"short",day:"numeric"})}},688:function(e,t,n){"use strict";n.r(t);var i=n(428),o=n(429),a=n(440),r=n(431),c=n(441),s=n(263);Object(i.initializeCommentDate)(),Object(o.initializeCommentPreview)(),Object(r.initializeNotifications)(),Object(a.initializeTimeFixer)(),Object(c.initializeDateHelpers)(),InstantClick.on("change",(function(){Object(i.initializeCommentDate)(),Object(o.initializeCommentPreview)(),Object(r.initializeNotifications)()})),window.showUserAlertModal=s.b,window.showModalAfterError=s.a}},[[688,100]]]);
//# sourceMappingURL=baseInitializers-93c8c31e9f395e735444.chunk.js.map